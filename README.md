# 成果物 "めざましシステム"

## 機能  
・非常に明るい光で目覚めを促す  
・光が入ってくる方向を自由にレイアウトできる  
・二度寝を抑制する  

## 実現方法  
・非常に明るい光で目覚めを促す  
→高出力LED（3W）を使う  

・光が入ってくる方向を自由にレイアウトできる  
→光目覚まし時計単体ではなく、光目覚まし時計を複数の分散型にする  
→4つのLEDモジュールをバッテリ駆動させ、自由に配置できるようにする  

・二度寝を抑制する  
→スヌーズ機能の廃止  
→人を検出して起きたか、起きてないかの判断をする  
→人が起きるまで、強い光と自然音で目覚めを促す  

## 使用方法  
Step 1 : 初期設定  
・LEDモジュールをベッドの周りに自由に置く  
・めざましシステム本体を自分の近くに置き、PCとつなぐ  
・付属の人検出用センサをベッドの下に引く

Step 2 : アラーム時刻の設定  
・Processingのプログラムからアラーム時刻をセットする  
・現在時刻はProcessingのプログラムを起動すると取得できる  

Step 3 : アラームの消し方  
・アラームの消し方はユーザがベッドから離れると自動でアラームが消える  
・手動での消し方は、二度寝の元となるため搭載していない  

## プログラムの説明  
1. LED module.ino  
・LEDモジュール用のプログラム  
・めざましシステム本体の赤外線信号を受信し、点灯・消灯を行う  

2. Spresense.ino  
・めざましシステム本体のプログラム
・アラーム時刻になったら、LEDモジュールと赤外線通信し、点灯・消灯指令、自然音を流して目覚めを促す  
・LCDに現在時刻とアラーム時刻を表示する  

3. spresense_timer.pde  
・現在時刻を取得し、アラーム時刻を設定するProcessingのプログラム  
・PC上に現在時刻とアラーム時刻を表示する  

## SysMLモデル  
![コンテキスト](https://user-images.githubusercontent.com/76985880/104989464-dbbd3280-5a5d-11eb-8f0c-6c73a56bafb7.jpg)  
![要求図](https://user-images.githubusercontent.com/76985880/104989656-42425080-5a5e-11eb-949f-91e145ce898c.jpg)  
![アクティビティ図１](https://user-images.githubusercontent.com/76985880/104989660-453d4100-5a5e-11eb-8996-e78fc5dbd606.jpg)  
![アクティビティ図２](https://user-images.githubusercontent.com/76985880/104989669-47070480-5a5e-11eb-943f-d7e14688427b.jpg)  
![ブロック定義図](https://user-images.githubusercontent.com/76985880/104989674-49695e80-5a5e-11eb-915b-4a05b521485b.jpg)  
